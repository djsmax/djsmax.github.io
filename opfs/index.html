<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>OPFS Demo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.5.14/hls.min.js"
            integrity="sha512-js37JxjD6gtmJ3N2Qzl9vQm4wcmTilFffk0nTSKzgr3p6aitg73LR205203wTzCCC/NZYO2TAxSa0Lr2VMLQvQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="hello.js"></script>
    <script type="text/javascript">
        window.onerror = function(msg, url, line, col, error) {
            // Note that col & error are new to the HTML 5 spec and may not be
            // supported in every browser.  It worked for me in Chrome.
            var extra = !col ? '' : '\ncolumn: ' + col;
            extra += !error ? '' : '\nerror: ' + error;

            // You can view the information in an alert to see things working like this:
            alert("Error: " + msg + "\nurl: " + url + "\nline: " + line + extra);

            // TODO: Report this error via ajax so you can keep track
            //       of what pages have JS issues

            var suppressErrorAlert = true;
            // If you return true, then error alerts (like in older versions of
            // Internet Explorer) will be suppressed.
            return suppressErrorAlert;
        };
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #progress {
            height: 300px;
            overflow-y: scroll;
        }
        #progress p {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="player1">
    <video id="video-1" autobuffer="true" data-setup="{}" controls>
        <p>Your browser does not support html5 video!</p>
    </video>
</div>
<p>Use le boutons:</p>
<button onclick="downloadStream()">Download (Achtung, 180 Mb!)</button>
<button onclick="createStream()">Play back (offline)</button>
<button onclick="removeStream()">Delete files, maybe?</button>

<p>Progress:</p>
<div id="progress">

</div>
</body>
</html>
